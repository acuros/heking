{% extends "SQLInjection/base.tpl" %}
{% block main %}
<a href="index.html" id="back">뒤로 가기</a>
<div data-ng-controller="MemberController">
  <form name="form" id="login-form" data-ng-submit="login(user)">
    <fieldset>
      <legend>로그인</legend>
      <dl>
        <dt><label for="username">아이디</label></dt>
        <dd><input type="text" id="username" ng-model="user.username" required="required"></dd>
        <dt><label for="password">비밀번호</label></dt>
        <dd><input type="password" id="password" ng-model="user.password" required="required" ></dd>
      </dl>
      <div data-ng-class="colorClassByQueryValidation(user)">
        사용자정보에서 정보를 가져온다.<br />
        조건: <span>아이디가 '{{ user.username }}' 이면서 비밀번호가 '{{ user.password }}'</span>
      </div>
    </fieldset>
  </form>
  <table id="member-table">
    <caption>사용자정보</caption>
    <thead>
    <tr>
      <th>아이디</th>
      <th>비밀번호</th>
      <th>이메일</th>
    </tr>
    </thead>
    <tbody>
    <tr data-ng-repeat="user in users track by $index"
        data-ng-click="clickTr(user)"
        data-ng-class="{selected: user.username == clickedUser.username}">
      <td>{{ user.username }}</td>
      <td>{{ user.password }}</td>
      <td>{{ user.email }}</td>
    </tr>
    </tbody>
  </table>
</div>
{% endblock %}